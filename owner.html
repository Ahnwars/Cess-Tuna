<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cess Tuna ‚Äî Owner Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root { --red:#E8272B; --yellow:#FFD600; --dark:#111111; --gray:#1C1C1C; --light:#F5F0E8; --muted:#888; }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--dark); color:var(--light); font-family:'DM Sans',sans-serif; min-height:100vh; }

  /* LOGIN */
  .login-screen { position:fixed; inset:0; background:#090909; z-index:99999; display:flex; align-items:center; justify-content:center; }
  .login-screen.hidden { display:none; }
  .login-box { background:#161616; border:2px solid var(--yellow); border-radius:12px; padding:40px 36px; width:100%; max-width:360px; text-align:center; }
  .login-lock { font-size:3rem; margin-bottom:16px; }
  .login-logo { font-family:'Bebas Neue',sans-serif; font-size:2.2rem; letter-spacing:3px; color:var(--yellow); text-shadow:2px 2px 0 var(--red); margin-bottom:4px; }
  .login-sub { font-size:0.75rem; color:var(--muted); letter-spacing:2px; text-transform:uppercase; margin-bottom:28px; }
  .login-label { display:block; font-size:0.75rem; color:var(--muted); letter-spacing:1px; text-transform:uppercase; text-align:left; margin-bottom:8px; }
  .login-input { width:100%; background:#0d0d0d; border:1px solid #2a2a2a; border-radius:6px; padding:14px 16px; color:var(--light); font-size:1rem; font-family:'DM Sans',sans-serif; margin-bottom:14px; transition:border-color 0.2s; letter-spacing:3px; }
  .login-input:focus { outline:none; border-color:var(--yellow); }
  .login-btn { width:100%; background:var(--yellow); color:var(--dark); border:none; padding:14px; border-radius:6px; font-family:'Bebas Neue',sans-serif; font-size:1.2rem; letter-spacing:2px; cursor:pointer; transition:background 0.2s; }
  .login-btn:hover { background:#e6c000; }
  .login-btn:disabled { background:#444; color:#888; cursor:not-allowed; }
  .login-error { color:#ff6b6b; font-size:0.82rem; font-weight:600; margin-top:12px; display:none; }
  .login-attempts { font-size:0.72rem; color:#555; margin-top:8px; }

  /* HEADER */
  header { background:#0d0d0d; border-bottom:3px solid var(--yellow); padding:20px 40px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:50; }
  .owner-logo { font-family:'Bebas Neue',sans-serif; font-size:1.8rem; letter-spacing:3px; color:var(--yellow); text-shadow:2px 2px 0 var(--red); }
  .owner-logo span { color:var(--muted); font-size:1rem; font-family:'DM Sans',sans-serif; letter-spacing:1px; font-weight:400; margin-left:12px; vertical-align:middle; }
  .live-badge { display:inline-flex; align-items:center; gap:6px; padding:6px 14px; border-radius:20px; font-size:0.75rem; font-weight:700; letter-spacing:1px; text-transform:uppercase; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.4} }

  /* LAYOUT */
  .page-body { display:grid; grid-template-columns:300px 1fr; min-height:calc(100vh - 73px); }

  /* SIDEBAR */
  .sidebar { background:#0d0d0d; border-right:1px solid #1e1e1e; padding:24px 20px; display:flex; flex-direction:column; gap:16px; }



  /* STATS */
  .stats-card { background:#161616; border:1px solid #2a2a2a; border-radius:10px; padding:16px 18px; }
  .stats-title { font-size:0.7rem; text-transform:uppercase; letter-spacing:2px; color:var(--muted); margin-bottom:10px; }
  .stats-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
  .stat-item { text-align:center; }
  .stat-num { font-family:'Bebas Neue',sans-serif; font-size:1.8rem; color:var(--yellow); line-height:1; }
  .stat-label { font-size:0.65rem; color:var(--muted); margin-top:2px; text-transform:uppercase; letter-spacing:1px; }

  /* SOUND */
  .sound-card { background:#161616; border:1px solid #2a2a2a; border-radius:10px; padding:12px 16px; display:flex; align-items:center; justify-content:space-between; }
  .sound-label { font-size:0.78rem; font-weight:600; color:var(--muted); }
  .sound-toggle { background:#14532d; color:#4ade80; border:1px solid #166534; padding:5px 12px; border-radius:4px; font-size:0.75rem; font-weight:700; cursor:pointer; font-family:'DM Sans',sans-serif; }
  .sound-toggle.off { background:#2a2a2a; color:#555; border-color:#333; }

  /* ORDERS */
  .orders-panel { padding:28px 32px; overflow-y:auto; }
  .panel-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:22px; }
  .panel-title { font-family:'Bebas Neue',sans-serif; font-size:2rem; letter-spacing:3px; }
  .panel-title span { color:var(--red); }
  .refresh-btn { background:#1e1e1e; border:1px solid #2a2a2a; color:var(--muted); padding:8px 16px; border-radius:4px; cursor:pointer; font-family:'DM Sans',sans-serif; font-weight:600; font-size:0.8rem; letter-spacing:1px; text-transform:uppercase; transition:all 0.2s; }
  .refresh-btn:hover { border-color:var(--yellow); color:var(--yellow); }
  .no-orders { text-align:center; color:var(--muted); padding:80px 20px; }
  .no-orders-icon { font-size:3.5rem; margin-bottom:14px; }
  .order-card { background:#161616; border:1px solid #2a2a2a; border-radius:8px; padding:20px; margin-bottom:16px; animation:fadeUp 0.3s ease both; }
  @keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
  .order-card.new-order { border-color:var(--yellow); }
  .oc-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:12px; }
  .oc-id { font-family:'Bebas Neue',sans-serif; font-size:1.3rem; letter-spacing:1px; color:var(--yellow); }
  .oc-time { font-size:0.78rem; color:var(--muted); }
  .oc-customer { font-weight:600; margin-bottom:4px; }
  .oc-address { font-size:0.85rem; color:var(--muted); margin-bottom:12px; }
  .oc-items { font-size:0.9rem; line-height:1.8; margin-bottom:12px; }
  .oc-total { font-family:'Bebas Neue',sans-serif; font-size:1.5rem; color:var(--yellow); margin-bottom:12px; }
  .oc-note { font-size:0.82rem; color:#aaa; margin-bottom:10px; }
  .new-badge { background:var(--red); color:#fff; font-size:0.68rem; font-weight:700; letter-spacing:1px; padding:3px 8px; border-radius:2px; text-transform:uppercase; margin-left:10px; animation:pulse 1.5s infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.6} }
  .oc-status-badge { display:inline-block; padding:3px 10px; border-radius:20px; font-size:0.72rem; font-weight:700; letter-spacing:1px; text-transform:uppercase; margin-bottom:10px; }
  .badge-received  { background:#1e3a5f; color:#93c5fd; }
  .badge-preparing { background:#3a2a00; color:var(--yellow); }
  .badge-ontheway  { background:#1a2a00; color:#bef264; }
  .badge-delivered { background:#0a2a0a; color:#4ade80; }
  .status-btns { display:flex; gap:6px; flex-wrap:wrap; margin-top:14px; }
  .status-btn { flex:1; min-width:70px; padding:7px 4px; border:1px solid #333; border-radius:4px; font-size:0.7rem; font-weight:700; cursor:pointer; font-family:'DM Sans',sans-serif; text-transform:uppercase; background:#1e1e1e; color:var(--muted); transition:all 0.2s; }
  .status-btn:hover { border-color:var(--yellow); color:var(--yellow); }
  .s-received  { background:#1e3a5f; border-color:#3b82f6; color:#93c5fd; }
  .s-preparing { background:#3a2a00; border-color:var(--yellow); color:var(--yellow); }
  .s-ontheway  { background:#1a2a00; border-color:#84cc16; color:#bef264; }
  .s-delivered { background:#0a2a0a; border-color:#22c55e; color:#4ade80; }

  /* NEW ORDER BANNER */
  .new-order-banner { position:fixed; top:80px; right:20px; background:#14532d; border:2px solid #22c55e; border-radius:10px; padding:16px 20px; z-index:300; transform:translateX(200px); transition:transform 0.4s; max-width:260px; }
  .new-order-banner.show { transform:translateX(0); }
  .nob-title { font-family:'Bebas Neue',sans-serif; font-size:1.1rem; letter-spacing:2px; color:#4ade80; margin-bottom:4px; }
  .nob-text { font-size:0.8rem; color:#86efac; }

  /* TABS */
  .panel-tabs { display:flex; gap:0; margin-bottom:24px; border-bottom:2px solid #2a2a2a; }
  .panel-tab { padding:10px 24px; font-family:"DM Sans",sans-serif; font-weight:700; font-size:0.85rem; letter-spacing:1px; text-transform:uppercase; cursor:pointer; border:none; background:none; color:var(--muted); border-bottom:3px solid transparent; margin-bottom:-2px; transition:all 0.2s; }
  .panel-tab.active { color:var(--yellow); border-bottom-color:var(--yellow); }
  .panel-tab:hover { color:var(--light); }
  .tab-panel { display:none; }
  .tab-panel.active { display:block; }
  .sales-table-wrap { overflow-x:auto; }
  .sales-table { width:100%; border-collapse:collapse; font-size:0.88rem; }
  .sales-table th { background:#0d0d0d; padding:12px 14px; text-align:left; font-size:0.72rem; text-transform:uppercase; letter-spacing:1px; color:var(--muted); border-bottom:2px solid #2a2a2a; white-space:nowrap; }
  .sales-table td { padding:12px 14px; border-bottom:1px solid #1e1e1e; vertical-align:middle; }
  .sales-table tr:hover td { background:rgba(255,255,255,0.02); }
  .sales-table .td-id { font-family:"Bebas Neue",sans-serif; font-size:1.1rem; color:var(--yellow); }
  .sales-table .td-total { font-family:"Bebas Neue",sans-serif; font-size:1.1rem; color:var(--yellow); }
  .sales-table .td-items { color:#aaa; font-size:0.82rem; line-height:1.6; }
  .sales-table .td-name { font-weight:600; }
  .sales-table .td-time { color:var(--muted); font-size:0.8rem; white-space:nowrap; }
  .sales-summary { display:flex; gap:24px; margin-bottom:20px; padding:16px 20px; background:#161616; border-radius:8px; border:1px solid #2a2a2a; flex-wrap:wrap; }
  .ss-item { text-align:center; }
  .ss-num { font-family:"Bebas Neue",sans-serif; font-size:1.8rem; color:var(--yellow); line-height:1; }
  .ss-label { font-size:0.68rem; color:var(--muted); text-transform:uppercase; letter-spacing:1px; margin-top:2px; }
  .no-sales { text-align:center; color:var(--muted); padding:60px 20px; }

  @media (max-width:768px) {
    .page-body { grid-template-columns:1fr; }
    header { padding:14px 20px; }
    .sidebar { border-right:none; border-bottom:1px solid #1e1e1e; }
    .orders-panel { padding:20px; }
  }
</style>
</head>
<body>

<!-- LOGIN -->
<div class="login-screen" id="loginScreen">
  <div class="login-box">
    <div class="login-lock">üëë</div>
    <div class="login-logo">CESS TUNA</div>
    <div class="login-sub">Owner Dashboard</div>
    <label class="login-label">Enter Password</label>
    <input class="login-input" type="password" id="loginInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
    <button class="login-btn" id="loginBtn">LOGIN</button>
    <div class="login-error" id="loginError">‚ùå Incorrect password. Try again.</div>
    <div class="login-attempts" id="loginAttempts"></div>
  </div>
</div>

<!-- NEW ORDER BANNER -->
<div class="new-order-banner" id="newOrderBanner">
  <div class="nob-title">üîî New Order!</div>
  <div class="nob-text" id="newOrderText">A new order just came in!</div>
</div>

<header>
  <div class="owner-logo">CESS TUNA <span>Owner Dashboard</span></div>

</header>

<div class="page-body">
  <aside class="sidebar">

    <!-- STATS -->
    <div class="stats-card">
      <div class="stats-title">üìä Stats</div>
      <div class="stats-grid">
        <div class="stat-item"><div class="stat-num" id="statOrders">0</div><div class="stat-label">Active</div></div>
        <div class="stat-item"><div class="stat-num" id="statRevenue">0</div><div class="stat-label">Revenue ‚Ç±</div></div>
        <div class="stat-item"><div class="stat-num" id="statDelivered">0</div><div class="stat-label">Delivered</div></div>
        <div class="stat-item"><div class="stat-num" id="statTotal">0</div><div class="stat-label">Total Orders</div></div>
      </div>
    </div>

    <!-- SOUND -->
    <div class="sound-card">
      <div class="sound-label">üîî Sound Alerts</div>
      <button class="sound-toggle" id="soundToggle">ON</button>
    </div>

  </aside>

  <main class="orders-panel">
    <div class="panel-header">
      <div class="panel-title">ACTIVE <span>ORDERS</span></div>
      <button class="refresh-btn" id="refreshBtn">‚Üª Refresh</button>
    </div>
    <div class="panel-tabs">
      <button class="panel-tab active" id="tabOrders" onclick="switchTab('orders')">üçî Active Orders</button>
      <button class="panel-tab" id="tabSales" onclick="switchTab('sales')">üìä Sales Table</button>
    </div>
    <div class="tab-panel active" id="panelOrders">
      <div id="ordersList"></div>
    </div>
    <div class="tab-panel" id="panelSales">
      <div class="sales-summary">
        <div class="ss-item"><div class="ss-num" id="salesCount">0</div><div class="ss-label">Delivered</div></div>
        <div class="ss-item"><div class="ss-num" id="salesRevenue">0</div><div class="ss-label">Total Revenue ‚Ç±</div></div>
        <div class="ss-item"><div class="ss-num" id="salesAvg">0</div><div class="ss-label">Avg Order ‚Ç±</div></div>
      </div>
      <div class="sales-table-wrap">
        <table class="sales-table">
          <thead><tr><th>Order ID</th><th>Customer</th><th>Phone</th><th>Items</th><th>Total</th><th>Time</th></tr></thead>
          <tbody id="salesTableBody"></tbody>
        </table>
      </div>
      <div class="no-sales" id="noSales" style="display:none;">No delivered orders yet.</div>
    </div>
  </main>
</div>

<script>
var API_KEY      = '$2a$10$VgEOzGTqUc4FOjCZulSrI.AE50EZQuuiTxtV9ONIyyFYOVTlBCjXK';
var ORDERS_BIN   = '699db83cd0ea881f40d53452';
var allOrders    = [];
var attempts     = 0;
var locked       = false;
var soundOn      = true;
var lastCount    = 0;

// XOR password: jansport234
var _p = [64,75,68,89,90,69,88,94,24,25,30];
function getPassword() { return _p.map(function(c){ return String.fromCharCode(c ^ 42); }).join(''); }

// Block devtools
document.addEventListener('contextmenu', function(e){ e.preventDefault(); });
document.addEventListener('keydown', function(e){
  if (e.key==='F12' || (e.ctrlKey&&e.shiftKey&&['I','J','C'].includes(e.key)) || (e.ctrlKey&&e.key==='u')) {
    e.preventDefault(); return false;
  }
});

// Sound
function playAlert() {
  if (!soundOn) return;
  try {
    var ctx = new (window.AudioContext || window.webkitAudioContext)();
    [523,659,784].forEach(function(freq,i){
      var o=ctx.createOscillator(), g=ctx.createGain();
      o.connect(g); g.connect(ctx.destination);
      o.frequency.value=freq; o.type='sine';
      g.gain.setValueAtTime(0.3, ctx.currentTime+i*0.15);
      g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime+i*0.15+0.3);
      o.start(ctx.currentTime+i*0.15); o.stop(ctx.currentTime+i*0.15+0.3);
    });
  } catch(e) {}
}

function showBanner(id) {
  document.getElementById('newOrderText').textContent = 'New order ' + id + ' just came in!';
  var b = document.getElementById('newOrderBanner');
  b.classList.add('show');
  setTimeout(function(){ b.classList.remove('show'); }, 5000);
}

// LOGIN
function doLogin() {
  if (locked) return;
  var entered = document.getElementById('loginInput').value;
  if (entered === getPassword()) {
    document.getElementById('loginScreen').classList.add('hidden');
    sessionStorage.setItem('ctOwnerAuth', '1');
    startApp();
  } else {
    attempts++;
    document.getElementById('loginError').style.display = 'block';
    document.getElementById('loginInput').value = '';
    document.getElementById('loginInput').focus();
    if (attempts >= 5) {
      locked = true;
      document.getElementById('loginInput').disabled = true;
      document.getElementById('loginBtn').disabled = true;
      document.getElementById('loginAttempts').textContent = 'Too many attempts. Refresh to try again.';
      document.getElementById('loginError').textContent = 'üîí Locked out.';
    } else {
      document.getElementById('loginAttempts').textContent = (5 - attempts) + ' attempts remaining.';
    }
  }
}

document.getElementById('loginBtn').addEventListener('click', doLogin);
document.getElementById('loginInput').addEventListener('keydown', function(e){ if(e.key==='Enter') doLogin(); });

if (sessionStorage.getItem('ctOwnerAuth') === '1') {
  document.getElementById('loginScreen').classList.add('hidden');
  startApp();
}

function startApp() {
  loadOrders();
  setInterval(loadOrders, 8000);
  document.getElementById('refreshBtn').addEventListener('click', loadOrders);
  document.getElementById('soundToggle').addEventListener('click', function(){
    soundOn = !soundOn;
    this.textContent = soundOn ? 'ON' : 'OFF';
    this.className = soundOn ? 'sound-toggle' : 'sound-toggle off';
  });
}

// ORDERS
function switchTab(tab) {
  document.getElementById('panelOrders').className = 'tab-panel' + (tab==='orders' ? ' active' : '');
  document.getElementById('panelSales').className  = 'tab-panel' + (tab==='sales'  ? ' active' : '');
  document.getElementById('tabOrders').className   = 'panel-tab' + (tab==='orders' ? ' active' : '');
  document.getElementById('tabSales').className    = 'panel-tab' + (tab==='sales'  ? ' active' : '');
  if (tab === 'sales') loadSalesTable();
}

function loadSalesTable() {
  fetch('https://api.jsonbin.io/v3/b/' + ORDERS_BIN + '/latest', { headers: {'X-Master-Key': API_KEY, 'X-Access-Key': API_KEY} })
    .then(function(r){ return r.json(); })
    .then(function(data){
      var all = (data.record && data.record.orders) ? data.record.orders : [];
      var delivered = all.filter(function(o){ return o.status === 'delivered'; });
      var tbody = document.getElementById('salesTableBody');
      var noSales = document.getElementById('noSales');
      document.getElementById('salesCount').textContent   = delivered.length;
      var rev = delivered.reduce(function(s,o){ return s+o.total; },0);
      document.getElementById('salesRevenue').textContent = rev.toLocaleString();
      document.getElementById('salesAvg').textContent     = delivered.length ? Math.round(rev/delivered.length).toLocaleString() : '0';
      if (delivered.length === 0) { tbody.innerHTML = ''; noSales.style.display='block'; return; }
      noSales.style.display = 'none';
      tbody.innerHTML = delivered.map(function(o){
        return '<tr>'
          + '<td class="td-id">' + o.orderId + '</td>'
          + '<td class="td-name">' + o.name + '</td>'
          + '<td>' + o.phone + '</td>'
          + '<td class="td-items">' + o.items.map(function(i){ return i.name + ' x' + i.qty; }).join(', ') + '</td>'
          + '<td class="td-total">‚Ç±' + o.total.toLocaleString() + '</td>'
          + '<td class="td-time">' + o.time + '</td>'
          + '</tr>';
      }).join('');
    }).catch(function(){});
}

var STATUS_LABEL = {received:'üì• Order Received', preparing:'üë®‚Äçüç≥ Preparing', ontheway:'üõµ On the Way', delivered:'‚úÖ Delivered'};

async function loadOrders() {
  var list = document.getElementById('ordersList');
  try {
    var res  = await fetch('https://api.jsonbin.io/v3/b/' + ORDERS_BIN + '/latest', { headers: {'X-Master-Key': API_KEY, 'X-Access-Key': API_KEY} });
    var data = await res.json();
    var all  = (data.record && data.record.orders) ? data.record.orders : [];
    var delivered = all.filter(function(o){ return o.status === 'delivered'; });
    allOrders     = all.filter(function(o){ return o.status !== 'delivered'; });

    if (lastCount > 0 && allOrders.length > lastCount) { playAlert(); showBanner(allOrders[0].orderId); }
    lastCount = allOrders.length;

    document.getElementById('statOrders').textContent    = allOrders.length;
    document.getElementById('statRevenue').textContent   = all.reduce(function(s,o){ return s+o.total; },0).toLocaleString();
    document.getElementById('statDelivered').textContent = delivered.length;
    document.getElementById('statTotal').textContent     = all.length;

    if (allOrders.length === 0) {
      list.innerHTML = '<div class="no-orders"><div class="no-orders-icon">‚úÖ</div>No active orders!<br>All caught up.</div>';
      return;
    }

    list.innerHTML = '';
    allOrders.forEach(function(o, i) {
      var st   = o.status || 'received';
      var card = document.createElement('div');
      card.className = 'order-card' + (i===0 && st==='received' ? ' new-order' : '');

      var html = '<div class="oc-header"><div><span class="oc-id">'+o.orderId+'</span>'
        +(i===0&&st==='received'?'<span class="new-badge">NEW</span>':'')
        +'</div><div class="oc-time">'+o.time+'</div></div>'
        +'<div class="oc-status-badge badge-'+st+'">'+(STATUS_LABEL[st]||STATUS_LABEL.received)+'</div>'
        +'<div class="oc-customer">üë§ '+o.name+' &nbsp;¬∑&nbsp; üìû '+o.phone+'</div>'
        +'<div class="oc-address">üìç '+o.address+'</div>'
        +'<div class="oc-items">'+o.items.map(function(item){ return item.emoji+' '+item.name+' &times;'+item.qty; }).join('<br>')+'</div>'
        +(o.note?'<div class="oc-note">üìù '+o.note+'</div>':'')
        +'<div class="oc-total">Total: &#8369;'+o.total.toLocaleString()+'.00</div>';

      card.innerHTML = html;

      // Status buttons
      var btnsDiv = document.createElement('div');
      btnsDiv.className = 'status-btns';
      [{key:'received',label:'üì• Received'},{key:'preparing',label:'üë®‚Äçüç≥ Preparing'},{key:'ontheway',label:'üõµ On the Way'},{key:'delivered',label:'‚úÖ Delivered'}].forEach(function(s){
        var sbtn = document.createElement('button');
        sbtn.className = 'status-btn'+(st===s.key?' s-'+s.key:'');
        sbtn.textContent = s.label;
        sbtn.addEventListener('click', (function(idx,skey){ return function(){ updateStatus(idx, skey); }; })(i, s.key));
        btnsDiv.appendChild(sbtn);
      });
      card.appendChild(btnsDiv);
      list.appendChild(card);
    });

  } catch(e) {
    list.innerHTML = '<div class="no-orders">‚ö†Ô∏è Could not load orders.</div>';
  }
}

async function updateStatus(index, newStatus) {
  try {
    var res  = await fetch('https://api.jsonbin.io/v3/b/' + ORDERS_BIN + '/latest', { headers: {'X-Master-Key': API_KEY, 'X-Access-Key': API_KEY} });
    var data = await res.json();
    var all  = (data.record && data.record.orders) ? data.record.orders : [];
    var targetId = allOrders[index].orderId;
    var found = all.find(function(o){ return o.orderId === targetId; });
    if (found) found.status = newStatus;
    await fetch('https://api.jsonbin.io/v3/b/' + ORDERS_BIN, {
      method: 'PUT',
      headers: {'Content-Type': 'application/json', 'X-Master-Key': API_KEY, 'X-Access-Key': API_KEY},
      body: JSON.stringify({orders: all})
    });
    loadOrders();
  } catch(e) {}
}
</script>
</body>
</html>
